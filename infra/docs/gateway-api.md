# Gateway API 詳細ガイド

Kubernetes Gateway API の仕組みとアーキテクチャを解説します。

## 目次

1. [Gateway API とは](#gateway-api-とは)
2. [なぜ Gateway API が必要か](#なぜ-gateway-api-が必要か)
3. [アーキテクチャ](#アーキテクチャ)
4. [リソースモデル](#リソースモデル)
5. [リクエストフロー](#リクエストフロー)
6. [Ingress との比較](#ingress-との比較)
7. [NGINX Gateway Fabric の仕組み](#nginx-gateway-fabric-の仕組み)

## Gateway API とは

Gateway API は Kubernetes のネットワークトラフィックを管理するための次世代 API です。
Ingress API の後継として設計され、より表現力が高く、拡張性のあるルーティング機能を提供します。

```
┌─────────────────────────────────────────────────────────────────────────┐
│                         Gateway API の位置づけ                          │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│   ┌─────────────┐     進化      ┌─────────────┐                         │
│   │   Ingress   │ ──────────►   │ Gateway API │                         │
│   │  (v1.19~)   │               │  (v1.0 GA)  │                         │
│   └─────────────┘               └─────────────┘                         │
│                                                                         │
│   特徴:                        特徴:                                    │
│   - シンプル                   - ロールベースの設計                     │
│   - 拡張性が低い               - 高い表現力                             │
│   - ベンダー依存の             - 標準化された拡張性                     │
│     アノテーション             - マルチプロトコル対応                   │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### 主な特徴

| 特徴 | 説明 |
|------|------|
| **ロールベース設計** | インフラ管理者、クラスタ運用者、アプリ開発者で責任を分離 |
| **表現力の高いルーティング** | ヘッダー、クエリパラメータ、メソッドベースのルーティング |
| **拡張性** | Policy Attachment による標準化された拡張機構 |
| **マルチプロトコル** | HTTP, HTTPS, TCP, UDP, gRPC, TLS をネイティブサポート |
| **ポータビリティ** | 実装間での互換性が保証される |

## なぜ Gateway API が必要か

### Ingress の問題点

```
┌─────────────────────────────────────────────────────────────────────────┐
│                        Ingress の限界                                   │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  1. アノテーション地獄                                                  │
│     ┌─────────────────────────────────────────────────────────────┐     │
│     │ apiVersion: networking.k8s.io/v1                            │     │
│     │ kind: Ingress                                               │     │
│     │ metadata:                                                   │     │
│     │   annotations:                                              │     │
│     │     nginx.ingress.kubernetes.io/rewrite-target: /           │     │
│     │     nginx.ingress.kubernetes.io/ssl-redirect: "true"        │     │
│     │     nginx.ingress.kubernetes.io/proxy-body-size: "50m"      │     │
│     │     nginx.ingress.kubernetes.io/rate-limit: "100"           │     │
│     │     # ベンダーごとに異なるアノテーション...                 │     │
│     └─────────────────────────────────────────────────────────────┘     │
│                                                                         │
│  2. 単一リソースへの責任集中                                            │
│     - インフラ設定とアプリ設定が混在                                    │
│     - 誰が何を管理するか不明確                                          │
│                                                                         │
│  3. 機能の制限                                                          │
│     - ヘッダーベースルーティングなし                                    │
│     - トラフィック分割なし                                              │
│     - TCP/UDP サポートなし                                              │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### Gateway API の解決策

```
┌─────────────────────────────────────────────────────────────────────────┐
│                     Gateway API のアプローチ                            │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  1. 明示的な API フィールド（アノテーション不要）                       │
│     ┌─────────────────────────────────────────────────────────────┐     │
│     │ apiVersion: gateway.networking.k8s.io/v1                    │     │
│     │ kind: HTTPRoute                                             │     │
│     │ spec:                                                       │     │
│     │   rules:                                                    │     │
│     │     - matches:                                              │     │
│     │         - headers:                                          │     │
│     │             - name: "X-Version"                             │     │
│     │               value: "v2"                                   │     │
│     │       backendRefs:                                          │     │
│     │         - name: service-v2                                  │     │
│     │           weight: 100                                       │     │
│     └─────────────────────────────────────────────────────────────┘     │
│                                                                         │
│  2. ロールベースのリソース分離                                          │
│  3. 標準化された拡張性（Policy Attachment）                             │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

## アーキテクチャ

### 全体構成

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          Kubernetes Cluster                                 │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │                        Control Plane                                  │  │
│  │                                                                       │  │
│  │   ┌─────────────┐      ┌──────────────────────────────────────────┐   │  │
│  │   │             │      │         Gateway Controller               │   │  │
│  │   │  API Server │◄────►│      (NGINX Gateway Fabric)              │   │  │
│  │   │             │      │                                          │   │  │
│  │   └─────────────┘      │  ┌──────────────────────────────────┐    │   │  │
│  │         ▲              │  │         Watch & Reconcile        │    │   │  │
│  │         │              │  │                                  │    │   │  │
│  │         │              │  │  1. GatewayClass の監視          │    │   │  │
│  │         │              │  │  2. Gateway の監視               │    │   │  │
│  │         │              │  │  3. HTTPRoute の監視             │    │   │  │
│  │         │              │  │  4. Service/Endpoints の監視     │    │   │  │
│  │         │              │  │                                  │    │   │  │
│  │         │              │  └──────────────────────────────────┘    │   │  │
│  │         │              └──────────────────┬───────────────────────┘   │  │
│  │         │                                 │                           │  │
│  └─────────┼─────────────────────────────────┼───────────────────────────┘  │
│            │                                 │                              │
│            │ kubectl apply                   │ Configure                    │
│            │                                 ▼                              │
│  ┌─────────┼──────────────────────────────────────────────────────────────┐ │
│  │         │                    Data Plane                                │ │
│  │         │                                                              │ │
│  │   ┌─────┴─────┐                                                        │ │
│  │   │   User    │     ┌──────────────────────────────────────────────┐   │ │
│  │   │ (kubectl) │     │              NGINX Pod                       │   │ │
│  │   └───────────┘     │                                              │   │ │
│  │                     │   ┌──────────────────────────────────────┐   │   │ │
│  │   HTTP Request      │   │          nginx.conf                  │   │   │ │
│  │         │           │   │                                      │   │   │ │
│  │         ▼           │   │  upstream backend {                  │   │   │ │
│  │   ┌───────────┐     │   │    server 10.0.0.1:8080;             │   │   │ │
│  │   │  Client   │────►│   │    server 10.0.0.2:8080;             │   │   │ │
│  │   └───────────┘     │   │  }                                   │   │   │ │
│  │                     │   │                                      │   │   │ │
│  │                     │   │  server {                            │   │   │ │
│  │                     │   │    listen 80;                        │   │   │ │
│  │                     │   │    server_name example.com;          │   │   │ │
│  │                     │   │    location / {                      │   │   │ │
│  │                     │   │      proxy_pass http://backend;      │   │   │ │
│  │                     │   │    }                                 │   │   │ │
│  │                     │   │  }                                   │   │   │ │
│  │                     │   │                                      │   │   │ │
│  │                     │   └──────────────────────────────────────┘   │   │ │
│  │                     │                                              │   │ │
│  │                     └──────────────────────────────────────────────┘   │ │
│  │                                                                        │ │
│  └────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### ロールベース設計

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          ロールと責任の分離                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  Infrastructure Provider (クラウド/インフラベンダー)                │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │                                                                     │    │
│  │  責任: Gateway Controller の提供                                    │    │
│  │                                                                     │    │
│  │  ┌─────────────────────────────────────────────────────────────┐    │    │
│  │  │ apiVersion: gateway.networking.k8s.io/v1                    │    │    │
│  │  │ kind: GatewayClass                                          │    │    │
│  │  │ metadata:                                                   │    │    │
│  │  │   name: nginx                                               │    │    │
│  │  │ spec:                                                       │    │    │
│  │  │   controllerName: gateway.nginx.org/nginx-gateway-controller│    │    │
│  │  └─────────────────────────────────────────────────────────────┘    │    │
│  │                                                                     │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                     │                                       │
│                                     │ 使用                                  │
│                                     ▼                                       │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  Cluster Operator (クラスタ管理者)                                  │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │                                                                     │    │
│  │  責任: Gateway の設定、リスナーの定義、TLS 証明書管理               │    │
│  │                                                                     │    │
│  │  ┌─────────────────────────────────────────────────────────────┐    │    │
│  │  │ apiVersion: gateway.networking.k8s.io/v1                    │    │    │
│  │  │ kind: Gateway                                               │    │    │
│  │  │ metadata:                                                   │    │    │
│  │  │   name: main-gateway                                        │    │    │
│  │  │   namespace: infrastructure                                 │    │    │
│  │  │ spec:                                                       │    │    │
│  │  │   gatewayClassName: nginx                                   │    │    │
│  │  │   listeners:                                                │    │    │
│  │  │     - name: http                                            │    │    │
│  │  │       port: 80                                              │    │    │
│  │  │       protocol: HTTP                                        │    │    │
│  │  │       allowedRoutes:                                        │    │    │
│  │  │         namespaces:                                         │    │    │
│  │  │           from: All  # どの namespace からも接続可能        │    │    │
│  │  └─────────────────────────────────────────────────────────────┘    │    │
│  │                                                                     │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                     │                                       │
│                                     │ 参照                                  │
│                                     ▼                                       │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  Application Developer (アプリ開発者)                               │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │                                                                     │    │
│  │  責任: HTTPRoute の定義、ルーティングルールの設定                   │    │
│  │                                                                     │    │
│  │  ┌─────────────────────────────────────────────────────────────┐    │    │
│  │  │ apiVersion: gateway.networking.k8s.io/v1                    │    │    │
│  │  │ kind: HTTPRoute                                             │    │    │
│  │  │ metadata:                                                   │    │    │
│  │  │   name: my-app-route                                        │    │    │
│  │  │   namespace: my-app                                         │    │    │
│  │  │ spec:                                                       │    │    │
│  │  │   parentRefs:                                               │    │    │
│  │  │     - name: main-gateway                                    │    │    │
│  │  │       namespace: infrastructure                             │    │    │
│  │  │   hostnames:                                                │    │    │
│  │  │     - "my-app.example.com"                                  │    │    │
│  │  │   rules:                                                    │    │    │
│  │  │     - backendRefs:                                          │    │    │
│  │  │         - name: my-app-service                              │    │    │
│  │  │           port: 80                                          │    │    │
│  │  └─────────────────────────────────────────────────────────────┘    │    │
│  │                                                                     │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## リソースモデル

### コアリソース

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        Gateway API リソース階層                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│                          ┌─────────────────┐                                │
│                          │  GatewayClass   │                                │
│                          │                 │                                │
│                          │クラスタスコープ │                                │
│                          │  Controller定義 │                                │
│                          └────────┬────────┘                                │
│                                   │                                         │
│                                   │ 参照                                    │
│                                   ▼                                         │
│                          ┌─────────────────┐                                │
│                          │    Gateway      │                                │
│                          │                 │                                │
│                          │  Namespace内    │                                │
│                          │  Listener定義   │                                │
│                          │  Port/Protocol  │                                │
│                          └────────┬────────┘                                │
│                                   │                                         │
│                                   │ parentRef                               │
│                                   ▼                                         │
│  ┌──────────────────────────────────────────────────────────────────────┐   │
│  │                          Route リソース                              │   │
│  │                                                                      │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  │   │
│  │  │  HTTPRoute  │  │  GRPCRoute  │  │  TCPRoute   │  │  UDPRoute   │  │   │
│  │  │             │  │             │  │             │  │             │  │   │
│  │  │ HTTP/HTTPS  │  │    gRPC     │  │    TCP      │  │    UDP      │  │   │
│  │  │ ルーティング│  │ ルーティング│  │ ルーティング│  │ ルーティング│  │   │
│  │  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘  │   │
│  │         │                │                │                │         │   │
│  └─────────┼────────────────┼────────────────┼────────────────┼─────────┘   │
│            │                │                │                │             │
│            └────────────────┴────────────────┴────────────────┘             │
│                                     │                                       │
│                                     │ backendRef                            │
│                                     ▼                                       │
│                          ┌─────────────────┐                                │
│                          │    Service      │                                │
│                          │                 │                                │
│                          │  バックエンド   │                                │
│                          │  (既存リソース) │                                │
│                          └─────────────────┘                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### GatewayClass

Gateway Controller の種類を定義するクラスタスコープのリソースです。

```yaml
apiVersion: gateway.networking.k8s.io/v1
kind: GatewayClass
metadata:
  name: nginx                              # GatewayClass の名前
spec:
  controllerName: gateway.nginx.org/nginx-gateway-controller  # Controller の識別子
  description: "NGINX Gateway Fabric"      # 説明（オプション）
  parametersRef:                           # 追加パラメータ（オプション）
    group: gateway.nginx.org
    kind: NginxProxy
    name: nginx-proxy-config
```

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                     GatewayClass の役割                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  GatewayClass は「どの Controller を使うか」を定義                          │
│                                                                             │
│  ┌──────────────────────┐    ┌──────────────────────┐                       │
│  │   GatewayClass:      │    │   GatewayClass:      │                       │
│  │   nginx              │    │   istio              │                       │
│  │                      │    │                      │                       │
│  │   controllerName:    │    │   controllerName:    │                       │
│  │   gateway.nginx.org/ │    │   istio.io/          │                       │
│  │   nginx-gateway-     │    │   gateway-controller │                       │
│  │   controller         │    │                      │                       │
│  └──────────┬───────────┘    └──────────┬───────────┘                       │
│             │                           │                                   │
│             │                           │                                   │
│             ▼                           ▼                                   │
│  ┌──────────────────────┐    ┌──────────────────────┐                       │
│  │  NGINX Gateway       │    │    Istio Gateway     │                       │
│  │  Fabric Controller   │    │    Controller        │                       │
│  └──────────────────────┘    └──────────────────────┘                       │
│                                                                             │
│  複数の GatewayClass を定義して、用途に応じて使い分け可能                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### Gateway

実際のネットワークエンドポイント（リスナー）を定義します。

```yaml
apiVersion: gateway.networking.k8s.io/v1
kind: Gateway
metadata:
  name: main-gateway
  namespace: url-shortener
spec:
  gatewayClassName: nginx                  # 使用する GatewayClass
  listeners:
    - name: http                           # リスナー名
      protocol: HTTP                       # プロトコル
      port: 80                             # ポート
      allowedRoutes:                       # Route の許可設定
        namespaces:
          from: All                        # 全 namespace から接続可能
    - name: https
      protocol: HTTPS
      port: 443
      tls:                                 # TLS 設定
        mode: Terminate
        certificateRefs:
          - name: my-cert
            kind: Secret
      allowedRoutes:
        namespaces:
          from: Selector
          selector:
            matchLabels:
              gateway-access: "true"       # ラベルで namespace を制限
```

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        Gateway Listener の種類                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  allowedRoutes.namespaces.from の値:                                        │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  from: All                                                          │    │
│  │  ─────────                                                          │    │
│  │  すべての namespace の Route を受け入れる                           │    │
│  │                                                                     │    │
│  │   ns-a ──────┐                                                      │    │
│  │              │                                                      │    │
│  │   ns-b ──────┼────► Gateway                                         │    │
│  │              │                                                      │    │
│  │   ns-c ──────┘                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  from: Same                                                         │    │
│  │  ──────────                                                         │    │
│  │  Gateway と同じ namespace の Route のみ受け入れる                   │    │
│  │                                                                     │    │
│  │   ns-a (Gateway) ────► Gateway                                      │    │
│  │   ns-b ─────────────► ✗ 拒否                                        │    │
│  │   ns-c ─────────────► ✗ 拒否                                        │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  from: Selector                                                     │    │
│  │  ──────────────                                                     │    │
│  │  ラベルセレクタにマッチする namespace の Route のみ受け入れる       │    │
│  │                                                                     │    │
│  │   ns-a (gateway-access: true) ──► Gateway                           │    │
│  │   ns-b (gateway-access: true) ──► Gateway                           │    │
│  │   ns-c ─────────────────────────► ✗ 拒否                            │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### HTTPRoute

HTTP トラフィックのルーティングルールを定義します。

```yaml
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: shortener-service
  namespace: url-shortener
spec:
  parentRefs:                              # 接続先の Gateway
    - name: main-gateway
      namespace: url-shortener
      sectionName: http                    # 特定の listener を指定（オプション）
  hostnames:                               # マッチするホスト名
    - "url-shortener.staging.k8s.local"
  rules:                                   # ルーティングルール
    - matches:                             # マッチ条件
        - path:
            type: PathPrefix
            value: /api
        - headers:
            - name: X-API-Version
              value: "v2"
      filters:                             # リクエスト/レスポンスの変換
        - type: RequestHeaderModifier
          requestHeaderModifier:
            add:
              - name: X-Forwarded-Proto
                value: https
      backendRefs:                         # 転送先
        - name: shortener-service
          port: 80
          weight: 100                      # トラフィック分割の重み
```

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                     HTTPRoute マッチング詳細                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  マッチ条件の種類:                                                          │
│                                                                             │
│  1. Path マッチング                                                         │
│     ┌─────────────────────────────────────────────────────────────────┐     │
│     │  type: Exact          /api/v1      → /api/v1 のみマッチ         │     │
│     │  type: PathPrefix     /api         → /api, /api/v1, /api/foo   │     │
│     │  type: RegularExpress ^/api/v[0-9] → /api/v1, /api/v2          │     │
│     └─────────────────────────────────────────────────────────────────┘     │
│                                                                             │
│  2. Header マッチング                                                       │
│     ┌─────────────────────────────────────────────────────────────────┐     │
│     │  headers:                                                       │     │
│     │    - name: X-Version                                            │     │
│     │      type: Exact           # Exact, RegularExpression          │     │
│     │      value: "v2"                                                │     │
│     └─────────────────────────────────────────────────────────────────┘     │
│                                                                             │
│  3. Query Parameter マッチング                                              │
│     ┌─────────────────────────────────────────────────────────────────┐     │
│     │  queryParams:                                                   │     │
│     │    - name: version                                              │     │
│     │      type: Exact                                                │     │
│     │      value: "2"                                                 │     │
│     └─────────────────────────────────────────────────────────────────┘     │
│                                                                             │
│  4. Method マッチング                                                       │
│     ┌─────────────────────────────────────────────────────────────────┐     │
│     │  method: GET                 # GET, POST, PUT, DELETE, etc.     │     │
│     └─────────────────────────────────────────────────────────────────┘     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### Filter の種類

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        HTTPRoute Filter                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │  RequestHeaderModifier                                                │  │
│  │  ─────────────────────                                                │  │
│  │  リクエストヘッダーの追加/変更/削除                                   │  │
│  │                                                                       │  │
│  │  filters:                                                             │  │
│  │    - type: RequestHeaderModifier                                      │  │
│  │      requestHeaderModifier:                                           │  │
│  │        add:                                                           │  │
│  │          - name: X-Request-ID                                         │  │
│  │            value: "12345"                                             │  │
│  │        set:                                                           │  │
│  │          - name: Host                                                 │  │
│  │            value: "backend.internal"                                  │  │
│  │        remove:                                                        │  │
│  │          - X-Old-Header                                               │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │  ResponseHeaderModifier                                               │  │
│  │  ──────────────────────                                               │  │
│  │  レスポンスヘッダーの追加/変更/削除                                   │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │  URLRewrite                                                           │  │
│  │  ──────────                                                           │  │
│  │  URL パスやホスト名の書き換え                                         │  │
│  │                                                                       │  │
│  │  filters:                                                             │  │
│  │    - type: URLRewrite                                                 │  │
│  │      urlRewrite:                                                      │  │
│  │        hostname: internal.example.com                                 │  │
│  │        path:                                                          │  │
│  │          type: ReplacePrefixMatch                                     │  │
│  │          replacePrefixMatch: /v2                                      │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │  RequestRedirect                                                      │  │
│  │  ───────────────                                                      │  │
│  │  リダイレクトレスポンスを返す                                         │  │
│  │                                                                       │  │
│  │  filters:                                                             │  │
│  │    - type: RequestRedirect                                            │  │
│  │      requestRedirect:                                                 │  │
│  │        scheme: https                                                  │  │
│  │        statusCode: 301                                                │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │  RequestMirror                                                        │  │
│  │  ─────────────                                                        │  │
│  │  リクエストを別のサービスにミラーリング（シャドウトラフィック）       │  │
│  │                                                                       │  │
│  │  filters:                                                             │  │
│  │    - type: RequestMirror                                              │  │
│  │      requestMirror:                                                   │  │
│  │        backendRef:                                                    │  │
│  │          name: shadow-service                                         │  │
│  │          port: 80                                                     │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## リクエストフロー

### 詳細フロー図

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        リクエスト処理フロー                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   Client                                                                    │
│     │                                                                       │
│     │ GET http://url-shortener.staging.k8s.local/api/shorten                │
│     │ Host: url-shortener.staging.k8s.local                                 │
│     │                                                                       │
│     ▼                                                                       │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  1. DNS 解決                                                        │    │
│  │     url-shortener.staging.k8s.local → 192.168.2.200 (MetalLB VIP)   │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│     │                                                                       │
│     ▼                                                                       │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  2. TCP 接続                                                        │    │
│  │     192.168.2.200:80 → NGINX Gateway Fabric Pod                     │    │
│  │                                                                     │    │
│  │     MetalLB Speaker (L2 mode):                                      │    │
│  │     - ARP Request に対して VIP の MAC アドレスを応答                 │    │
│  │     - パケットを NGINX Pod のある Node に転送                       │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│     │                                                                       │
│     ▼                                                                       │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  3. NGINX Gateway Fabric (Data Plane)                               │    │
│  │                                                                     │    │
│  │     3a. Listener マッチング                                         │    │
│  │         Port: 80, Protocol: HTTP → http listener にマッチ           │    │
│  │                                                                     │    │
│  │     3b. Host マッチング                                             │    │
│  │         Host header: url-shortener.staging.k8s.local                │    │
│  │         → HTTPRoute の hostnames にマッチ                           │    │
│  │                                                                     │    │
│  │     3c. Path マッチング                                             │    │
│  │         Path: /api/shorten                                          │    │
│  │         → PathPrefix: / にマッチ                                    │    │
│  │                                                                     │    │
│  │     3d. Filter 適用                                                 │    │
│  │         - RequestHeaderModifier などを適用                          │    │
│  │                                                                     │    │
│  │     3e. Backend 選択                                                │    │
│  │         backendRefs から shortener-service:80 を選択                │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│     │                                                                       │
│     ▼                                                                       │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  4. Service → Pod ルーティング                                      │    │
│  │                                                                     │    │
│  │     shortener-service (ClusterIP)                                   │    │
│  │           │                                                         │    │
│  │           │ kube-proxy (iptables)                                   │    │
│  │           │ DNAT: ClusterIP → Pod IP                                │    │
│  │           ▼                                                         │    │
│  │     ┌─────────┐  ┌─────────┐  ┌─────────┐                           │    │
│  │     │ Pod 1   │  │ Pod 2   │  │ Pod 3   │                           │    │
│  │     │10.0.1.5 │  │10.0.2.3 │  │10.0.3.7 │                           │    │
│  │     └─────────┘  └─────────┘  └─────────┘                           │    │
│  │                                                                     │    │
│  │     ラウンドロビンで Pod を選択                                     │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│     │                                                                       │
│     ▼                                                                       │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  5. レスポンス                                                      │    │
│  │                                                                     │    │
│  │     Pod → NGINX → Client                                            │    │
│  │     (conntrack により同じ経路で戻る)                                 │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### Controller の Reconcile ループ

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                   Gateway Controller の動作                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │                    Watch (監視)                                       │  │
│  │                                                                       │  │
│  │   API Server からリソースの変更を監視:                                │  │
│  │                                                                       │  │
│  │   - GatewayClass (自分の controllerName のもの)                       │  │
│  │   - Gateway (自分の GatewayClass を参照するもの)                      │  │
│  │   - HTTPRoute (自分の Gateway を parentRef するもの)                  │  │
│  │   - Service (HTTPRoute の backendRef で参照されるもの)                │  │
│  │   - Endpoints (Service に対応するもの)                                │  │
│  │                                                                       │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                           │                                                 │
│                           │ 変更検知                                        │
│                           ▼                                                 │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │                    Reconcile (調整)                                   │  │
│  │                                                                       │  │
│  │   1. 関連リソースを収集                                               │  │
│  │      Gateway → HTTPRoute → Service → Endpoints                       │  │
│  │                                                                       │  │
│  │   2. 設定を生成                                                       │  │
│  │      ┌─────────────────────────────────────────────────────────┐      │  │
│  │      │  nginx.conf を動的に生成                                │      │  │
│  │      │                                                         │      │  │
│  │      │  upstream shortener-service {                           │      │  │
│  │      │    server 10.0.1.5:8080;   # Pod 1 の IP               │      │  │
│  │      │    server 10.0.2.3:8080;   # Pod 2 の IP               │      │  │
│  │      │    server 10.0.3.7:8080;   # Pod 3 の IP               │      │  │
│  │      │  }                                                      │      │  │
│  │      │                                                         │      │  │
│  │      │  server {                                               │      │  │
│  │      │    listen 80;                                           │      │  │
│  │      │    server_name url-shortener.staging.k8s.local;         │      │  │
│  │      │                                                         │      │  │
│  │      │    location / {                                         │      │  │
│  │      │      proxy_pass http://shortener-service;               │      │  │
│  │      │    }                                                    │      │  │
│  │      │  }                                                      │      │  │
│  │      └─────────────────────────────────────────────────────────┘      │  │
│  │                                                                       │  │
│  │   3. 設定を適用                                                       │  │
│  │      NGINX プロセスに設定をリロード（ダウンタイムなし）               │  │
│  │                                                                       │  │
│  │   4. Status を更新                                                    │  │
│  │      Gateway.status.conditions, HTTPRoute.status.parents など        │  │
│  │                                                                       │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## Ingress との比較

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                     Ingress vs Gateway API                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────┐    ┌─────────────────────────────┐         │
│  │         Ingress             │    │       Gateway API           │         │
│  ├─────────────────────────────┤    ├─────────────────────────────┤         │
│  │                             │    │                             │         │
│  │  リソース: 1種類            │    │  リソース: 3種類+           │         │
│  │  - Ingress                  │    │  - GatewayClass             │         │
│  │                             │    │  - Gateway                  │         │
│  │                             │    │  - HTTPRoute/GRPCRoute/...  │         │
│  │                             │    │                             │         │
│  │  拡張性:                    │    │  拡張性:                    │         │
│  │  - アノテーション           │    │  - Policy Attachment        │         │
│  │  - ベンダー依存             │    │  - 標準化された仕組み       │         │
│  │                             │    │                             │         │
│  │  ルーティング:              │    │  ルーティング:              │         │
│  │  - Host, Path のみ          │    │  - Host, Path               │         │
│  │                             │    │  - Header, Query            │         │
│  │                             │    │  - Method                   │         │
│  │                             │    │                             │         │
│  │  プロトコル:                │    │  プロトコル:                │         │
│  │  - HTTP/HTTPS のみ          │    │  - HTTP/HTTPS               │         │
│  │                             │    │  - TCP/UDP                  │         │
│  │                             │    │  - gRPC                     │         │
│  │                             │    │  - TLS passthrough          │         │
│  │                             │    │                             │         │
│  │  トラフィック管理:          │    │  トラフィック管理:          │         │
│  │  - 基本的なルーティング     │    │  - 重み付けルーティング     │         │
│  │  - TLS 終端                 │    │  - ミラーリング             │         │
│  │                             │    │  - ヘッダー変更             │         │
│  │                             │    │  - URL リライト             │         │
│  │                             │    │                             │         │
│  │  責任分離:                  │    │  責任分離:                  │         │
│  │  - なし（全て Ingress）     │    │  - インフラ: GatewayClass   │         │
│  │                             │    │  - 運用: Gateway            │         │
│  │                             │    │  - 開発: Route              │         │
│  │                             │    │                             │         │
│  └─────────────────────────────┘    └─────────────────────────────┘         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 同等の設定比較

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         設定例の比較                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  Ingress:                                                                   │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │ apiVersion: networking.k8s.io/v1                                      │  │
│  │ kind: Ingress                                                         │  │
│  │ metadata:                                                             │  │
│  │   name: my-app                                                        │  │
│  │   annotations:                                                        │  │
│  │     nginx.ingress.kubernetes.io/rewrite-target: /                     │  │
│  │     nginx.ingress.kubernetes.io/ssl-redirect: "true"                  │  │
│  │     nginx.ingress.kubernetes.io/proxy-body-size: "50m"                │  │
│  │ spec:                                                                 │  │
│  │   ingressClassName: nginx                                             │  │
│  │   rules:                                                              │  │
│  │     - host: example.com                                               │  │
│  │       http:                                                           │  │
│  │         paths:                                                        │  │
│  │           - path: /api                                                │  │
│  │             pathType: Prefix                                          │  │
│  │             backend:                                                  │  │
│  │               service:                                                │  │
│  │                 name: my-service                                      │  │
│  │                 port:                                                 │  │
│  │                   number: 80                                          │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│  Gateway API:                                                               │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │ # Gateway (クラスタ運用者が管理)                                      │  │
│  │ apiVersion: gateway.networking.k8s.io/v1                              │  │
│  │ kind: Gateway                                                         │  │
│  │ metadata:                                                             │  │
│  │   name: main-gateway                                                  │  │
│  │ spec:                                                                 │  │
│  │   gatewayClassName: nginx                                             │  │
│  │   listeners:                                                          │  │
│  │     - name: https                                                     │  │
│  │       port: 443                                                       │  │
│  │       protocol: HTTPS                                                 │  │
│  │       tls:                                                            │  │
│  │         mode: Terminate                                               │  │
│  │         certificateRefs:                                              │  │
│  │           - name: tls-cert                                            │  │
│  │ ---                                                                   │  │
│  │ # HTTPRoute (アプリ開発者が管理)                                      │  │
│  │ apiVersion: gateway.networking.k8s.io/v1                              │  │
│  │ kind: HTTPRoute                                                       │  │
│  │ metadata:                                                             │  │
│  │   name: my-app                                                        │  │
│  │ spec:                                                                 │  │
│  │   parentRefs:                                                         │  │
│  │     - name: main-gateway                                              │  │
│  │   hostnames:                                                          │  │
│  │     - example.com                                                     │  │
│  │   rules:                                                              │  │
│  │     - matches:                                                        │  │
│  │         - path:                                                       │  │
│  │             type: PathPrefix                                          │  │
│  │             value: /api                                               │  │
│  │       filters:                                                        │  │
│  │         - type: URLRewrite                                            │  │
│  │           urlRewrite:                                                 │  │
│  │             path:                                                     │  │
│  │               type: ReplacePrefixMatch                                │  │
│  │               replacePrefixMatch: /                                   │  │
│  │       backendRefs:                                                    │  │
│  │         - name: my-service                                            │  │
│  │           port: 80                                                    │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## NGINX Gateway Fabric の仕組み

### アーキテクチャ

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                    NGINX Gateway Fabric 内部構造                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │                      nginx-gateway Pod                                │  │
│  │                                                                       │  │
│  │   ┌─────────────────────────────────────────────────────────────┐     │  │
│  │   │              Container: nginx-gateway                        │     │  │
│  │   │                                                             │     │  │
│  │   │   ┌─────────────────────────────────────────────────────┐   │     │  │
│  │   │   │           Gateway Controller (Go)                   │   │     │  │
│  │   │   │                                                     │   │     │  │
│  │   │   │  ┌─────────────────────────────────────────────┐    │   │     │  │
│  │   │   │  │  Kubernetes Client                          │    │   │     │  │
│  │   │   │  │  - Watch GatewayClass, Gateway, HTTPRoute   │    │   │     │  │
│  │   │   │  │  - Watch Service, Endpoints, Secret         │    │   │     │  │
│  │   │   │  └────────────────────┬────────────────────────┘    │   │     │  │
│  │   │   │                       │                              │   │     │  │
│  │   │   │                       ▼                              │   │     │  │
│  │   │   │  ┌─────────────────────────────────────────────┐    │   │     │  │
│  │   │   │  │  Config Generator                           │    │   │     │  │
│  │   │   │  │  - Gateway API → nginx.conf 変換            │    │   │     │  │
│  │   │   │  │  - Upstream (Pod IP) 設定生成              │    │   │     │  │
│  │   │   │  │  - Server/Location 設定生成                │    │   │     │  │
│  │   │   │  └────────────────────┬────────────────────────┘    │   │     │  │
│  │   │   │                       │                              │   │     │  │
│  │   │   │                       ▼                              │   │     │  │
│  │   │   │  ┌─────────────────────────────────────────────┐    │   │     │  │
│  │   │   │  │  NGINX Manager                              │    │   │     │  │
│  │   │   │  │  - 設定ファイル書き込み                     │    │   │     │  │
│  │   │   │  │  - nginx -s reload                          │    │   │     │  │
│  │   │   │  │  - プロセス管理                             │    │   │     │  │
│  │   │   │  └────────────────────┬────────────────────────┘    │   │     │  │
│  │   │   │                       │                              │   │     │  │
│  │   │   └───────────────────────┼─────────────────────────────┘   │     │  │
│  │   │                           │                                 │     │  │
│  │   └───────────────────────────┼─────────────────────────────────┘     │  │
│  │                               │                                       │  │
│  │                               │ 設定反映                              │  │
│  │                               ▼                                       │  │
│  │   ┌─────────────────────────────────────────────────────────────┐     │  │
│  │   │              Container: nginx (または同一コンテナ)          │     │  │
│  │   │                                                             │     │  │
│  │   │   ┌─────────────────────────────────────────────────────┐   │     │  │
│  │   │   │              NGINX Worker Processes                 │   │     │  │
│  │   │   │                                                     │   │     │  │
│  │   │   │    Worker 1    Worker 2    Worker 3    Worker N     │   │     │  │
│  │   │   │       │           │           │           │         │   │     │  │
│  │   │   │       └───────────┴───────────┴───────────┘         │   │     │  │
│  │   │   │                       │                              │   │     │  │
│  │   │   │                       ▼                              │   │     │  │
│  │   │   │              Shared Memory                           │   │     │  │
│  │   │   │              (Upstream 状態、キャッシュ等)            │   │     │  │
│  │   │   │                                                     │   │     │  │
│  │   │   └─────────────────────────────────────────────────────┘   │     │  │
│  │   │                                                             │     │  │
│  │   └─────────────────────────────────────────────────────────────┘     │  │
│  │                                                                       │  │
│  │   Port 80/443 ◄──── Service (LoadBalancer) ◄──── MetalLB VIP          │  │
│  │                                                                       │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 設定生成の流れ

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                    設定生成プロセス                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  1. リソース収集                                                            │
│                                                                             │
│     Gateway                    HTTPRoute                  Service           │
│        │                          │                          │              │
│        └──────────────────────────┼──────────────────────────┘              │
│                                   │                                         │
│                                   ▼                                         │
│                          ┌───────────────┐                                  │
│                          │   Endpoints   │                                  │
│                          │               │                                  │
│                          │ 10.0.1.5:8080 │                                  │
│                          │ 10.0.2.3:8080 │                                  │
│                          │ 10.0.3.7:8080 │                                  │
│                          └───────┬───────┘                                  │
│                                  │                                          │
│  2. nginx.conf 生成              ▼                                          │
│                                                                             │
│     ┌───────────────────────────────────────────────────────────────────┐   │
│     │  # Auto-generated by NGINX Gateway Fabric                         │   │
│     │  # Do not edit manually                                           │   │
│     │                                                                   │   │
│     │  upstream url_shortener_staging_shortener_service_80 {            │   │
│     │      zone url_shortener_staging_shortener_service_80 256k;        │   │
│     │      server 10.0.1.5:8080;                                        │   │
│     │      server 10.0.2.3:8080;                                        │   │
│     │      server 10.0.3.7:8080;                                        │   │
│     │  }                                                                │   │
│     │                                                                   │   │
│     │  server {                                                         │   │
│     │      listen 80;                                                   │   │
│     │      server_name url-shortener.staging.k8s.local;                 │   │
│     │                                                                   │   │
│     │      location / {                                                 │   │
│     │          proxy_pass http://url_shortener_staging_shortener_...;   │   │
│     │          proxy_set_header Host $host;                             │   │
│     │          proxy_set_header X-Real-IP $remote_addr;                 │   │
│     │          proxy_set_header X-Forwarded-For $proxy_add_x_for...;    │   │
│     │          proxy_set_header X-Forwarded-Proto $scheme;              │   │
│     │      }                                                            │   │
│     │  }                                                                │   │
│     └───────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  3. リロード                                                                │
│                                                                             │
│     nginx -s reload                                                         │
│        │                                                                    │
│        │  - 新しい Worker プロセスが新設定で起動                            │
│        │  - 古い Worker は既存接続を処理後に終了                            │
│        │  - ダウンタイムなしで設定反映                                      │
│        │                                                                    │
│        ▼                                                                    │
│     設定反映完了                                                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### Endpoint 直接参照の利点

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                    Endpoint 直接参照 vs Service VIP                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  従来の方法 (Service ClusterIP 経由):                                       │
│                                                                             │
│   Client → NGINX → Service ClusterIP → iptables → Pod                       │
│                          │                                                  │
│                          │  問題点:                                         │
│                          │  - 余分なホップ                                  │
│                          │  - iptables の負荷                               │
│                          │  - ロードバランス制御が限定的                    │
│                                                                             │
│  ───────────────────────────────────────────────────────────────────────    │
│                                                                             │
│  NGINX Gateway Fabric の方法 (Endpoints 直接参照):                          │
│                                                                             │
│   Client → NGINX → Pod (直接)                                               │
│                │                                                            │
│                │  利点:                                                     │
│                │  - 余分なホップなし                                        │
│                │  - NGINX 側で高度なロードバランス                          │
│                │  - ヘルスチェック統合                                      │
│                │  - コネクションプーリング                                  │
│                                                                             │
│   Controller は Endpoints を監視し、Pod IP の追加/削除を                    │
│   リアルタイムで nginx.conf の upstream に反映                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 高度なユースケース

### トラフィック分割（カナリアリリース）

```yaml
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: canary-release
spec:
  parentRefs:
    - name: main-gateway
  hostnames:
    - "app.example.com"
  rules:
    - backendRefs:
        - name: app-v1
          port: 80
          weight: 90        # 90% のトラフィック
        - name: app-v2
          port: 80
          weight: 10        # 10% のトラフィック（カナリア）
```

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        トラフィック分割の動作                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│                           Client Requests                                   │
│                                 │                                           │
│                                 │ 100 requests                              │
│                                 ▼                                           │
│                          ┌─────────────┐                                    │
│                          │   Gateway   │                                    │
│                          │   (NGINX)   │                                    │
│                          └──────┬──────┘                                    │
│                                 │                                           │
│                    ┌────────────┴────────────┐                              │
│                    │                         │                              │
│                    │ weight: 90              │ weight: 10                   │
│                    │ (~90 requests)          │ (~10 requests)               │
│                    ▼                         ▼                              │
│             ┌─────────────┐           ┌─────────────┐                       │
│             │   app-v1    │           │   app-v2    │                       │
│             │  (stable)   │           │  (canary)   │                       │
│             └─────────────┘           └─────────────┘                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### ヘッダーベースルーティング

```yaml
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: header-routing
spec:
  parentRefs:
    - name: main-gateway
  hostnames:
    - "api.example.com"
  rules:
    # v2 ヘッダーがある場合は v2 へ
    - matches:
        - headers:
            - name: X-API-Version
              value: "v2"
      backendRefs:
        - name: api-v2
          port: 80
    # デフォルトは v1 へ
    - backendRefs:
        - name: api-v1
          port: 80
```

### リクエストミラーリング

```yaml
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: mirror-traffic
spec:
  parentRefs:
    - name: main-gateway
  rules:
    - backendRefs:
        - name: production-service
          port: 80
      filters:
        - type: RequestMirror
          requestMirror:
            backendRef:
              name: shadow-service   # 本番と同じリクエストをシャドウに送信
              port: 80
```

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        リクエストミラーリング                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   Client Request                                                            │
│         │                                                                   │
│         ▼                                                                   │
│   ┌─────────────┐                                                           │
│   │   Gateway   │                                                           │
│   └──────┬──────┘                                                           │
│          │                                                                  │
│          ├─────────────────────────────────┐                                │
│          │                                 │                                │
│          │ Primary                         │ Mirror (fire-and-forget)       │
│          │ (レスポンスを返す)               │ (レスポンスは破棄)             │
│          ▼                                 ▼                                │
│   ┌─────────────────┐              ┌─────────────────┐                      │
│   │ production-svc  │              │  shadow-svc     │                      │
│   │  (本番環境)      │              │  (テスト環境)   │                      │
│   └─────────────────┘              └─────────────────┘                      │
│          │                                                                  │
│          │ Response                                                         │
│          ▼                                                                  │
│      Client                                                                 │
│                                                                             │
│   用途:                                                                     │
│   - 新バージョンのテスト（本番トラフィックで）                              │
│   - パフォーマンス比較                                                      │
│   - データ整合性チェック                                                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 参考リンク

- [Gateway API 公式ドキュメント](https://gateway-api.sigs.k8s.io/)
- [NGINX Gateway Fabric](https://github.com/nginx/nginx-gateway-fabric)
- [Gateway API Release Notes](https://gateway-api.sigs.k8s.io/releases/)
- [Kubernetes SIG Network](https://github.com/kubernetes-sigs/gateway-api)
